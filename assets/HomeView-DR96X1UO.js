import{_ as h,o as m,c as x,a as n,d as T,r as i,b as $,n as y,e as k,w as C,T as E,f as _,u as b,g as L,h as M}from"./index-C1axuPro.js";const B="/official-website/assets/butterfly-swbcc1WO.mp4",O="/official-website/assets/castle-CK8KzjTe.mp4",j={},N={class:"loading-view"};function z(V,t){return m(),x("div",N,t[0]||(t[0]=[n("div",{class:"loader"},null,-1)]))}const S=h(j,[["render",z],["__scopeId","data-v-7f812c03"]]),W={class:"home"},H=["src","loop","autoplay"],I=["src","loop","autoplay"],K=T({__name:"HomeView",setup(V){const t=i(window.innerWidth<768),s=i(""),u=i(0),w=i(0),d=i(null),r=i(null),c=i(null),p=i(null),f=a=>{setTimeout(()=>{const v=a==="video1"?d.value:r.value;v==null||v.play()},500);const e={large:t.value?{height:"70%"}:{width:"70%"},small:t.value?{height:"30%"}:{width:"30%"},active:{opacity:"100%"},inactive:{opacity:"50%"}},o={active:a==="video1"?c.value:p.value,inactive:a==="video1"?p.value:c.value};o.active&&o.inactive&&(Object.assign(o.active.style,e.large,e.active),Object.assign(o.inactive.style,e.small,e.inactive)),s.value=a},l=a=>{s.value="";const e=a==="video1"?d.value:r.value;e&&(e.pause(),e.currentTime=0);const o=t.value?{width:"100%",height:"50%"}:{width:"50%",height:"100%"};[c.value,p.value].forEach(v=>{v&&Object.assign(v.style,{...o,opacity:"100%"})})},g=a=>{a&&(a.addEventListener("loadeddata",()=>{y(()=>a.play())}),a.addEventListener("ended",()=>{y(()=>{a.pause(),a.currentTime=0,u.value++})}),a.addEventListener("canplay",()=>{w.value++}))};return $(()=>{addEventListener("resize",()=>{t.value=window.innerWidth<768,y(()=>{l("video1"),l("video2")})}),g(d.value),g(r.value)}),(a,e)=>(m(),x("div",W,[k(E,{name:"fade"},{default:C(()=>[w.value<2?(m(),L(S,{key:0})):M("",!0)]),_:1}),n("button",{class:"video-container",id:"video1",ref_key:"video1Container",ref:c},[n("span",{class:"video-tag",id:"castle",style:_({opacity:s.value==="video1"||t.value?1:0,left:s.value==="video1"||t.value?0:"-120px",bottom:t.value?"60px":"120px"})}," 蝴蝶城工程介紹 ",4),n("video",{ref_key:"video1",ref:d,src:b(O),onMouseenter:e[0]||(e[0]=o=>!t.value&&f("video1")),onMouseleave:e[1]||(e[1]=o=>!t.value&&l("video1")),onTouchstart:e[2]||(e[2]=o=>t.value&&f("video1")),onTouchend:e[3]||(e[3]=o=>t.value&&l("video1")),loop:u.value>2,autoplay:u.value<2,muted:"",playsinline:""},null,40,H)],512),n("button",{class:"video-container",id:"video2",ref_key:"video2Container",ref:p},[n("span",{class:"video-tag",id:"butterfly",style:_({opacity:s.value==="video2"||t.value?1:0,right:s.value==="video2"||t.value?0:"-120px",bottom:t.value?"60px":"120px"})},"昆蟲生態動畫解說",4),n("video",{ref_key:"video2",ref:r,src:b(B),onMouseenter:e[4]||(e[4]=o=>!t.value&&f("video2")),onMouseleave:e[5]||(e[5]=o=>!t.value&&l("video2")),onTouchstart:e[6]||(e[6]=o=>t.value&&f("video2")),onTouchend:e[7]||(e[7]=o=>t.value&&l("video2")),loop:u.value>2,autoplay:u.value<2,muted:"",playsinline:""},null,40,I)],512)]))}}),A=h(K,[["__scopeId","data-v-7dc03cec"]]);export{A as default};
