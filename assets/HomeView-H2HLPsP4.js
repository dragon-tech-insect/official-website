import{_ as x,o as w,c as L,a as v,d as V,r as s,b as k,e as $,w as E,T as C,n as b,u as h,f as M,g as B}from"./index-C2ZwhrQD.js";const O="/official-website/assets/butterfly-swbcc1WO.mp4",j="/official-website/assets/castle-CK8KzjTe.mp4",N={},W={class:"loading-view"};function z(T,o){return w(),L("div",W,o[0]||(o[0]=[v("p",null,"Loading...",-1)]))}const S=x(N,[["render",z],["__scopeId","data-v-28a55875"]]),H={class:"home"},I=["src","loop"],K=["src","loop"],q=V({__name:"HomeView",setup(T){const o=s(window.innerWidth<768),d=s(""),p=s(0),a=s(null),i=s(null),f=s(null),y=s(null),m=n=>{setTimeout(()=>{const l=n==="video1"?a.value:i.value;l==null||l.play()},500);const e={large:o.value?{height:"70%"}:{width:"70%"},small:o.value?{height:"30%"}:{width:"30%"},active:{opacity:"100%"},inactive:{opacity:"50%"}},t={active:n==="video1"?f.value:y.value,inactive:n==="video1"?y.value:f.value};t.active&&t.inactive&&(Object.assign(t.active.style,e.large,e.active),Object.assign(t.inactive.style,e.small,e.inactive)),d.value=n},u=n=>{d.value="";const e=n==="video1"?a.value:i.value;e&&(e.pause(),e.currentTime=0);const t={mobile:{width:"100%",height:"50%"},desktop:{width:"50%",height:"100%"}},l=o.value?t.mobile:t.desktop;[f.value,y.value].forEach(r=>{r&&Object.assign(r.style,{...l,opacity:"100%"})})},g=s(0);return o.value=window.innerWidth<768,k(()=>{var n,e,t,l,r,_;addEventListener("resize",()=>{o.value=window.innerWidth<768,u("video1"),u("video2")}),(n=a.value)==null||n.addEventListener("loadeddata",()=>{var c;console.log("影片已載入，準備播放一次"),(c=a.value)==null||c.play()}),(e=a.value)==null||e.addEventListener("ended",()=>{console.log("影片已播放一次，停止播放"),a.value&&(a.value.pause(),a.value.currentTime=0,p.value++)}),(t=i.value)==null||t.addEventListener("loadeddata",()=>{var c;console.log("影片已載入，準備播放一次"),(c=i.value)==null||c.play()}),(l=i.value)==null||l.addEventListener("ended",()=>{console.log("影片已播放一次，停止播放"),i.value&&(i.value.pause(),i.value.currentTime=0,p.value++)}),(r=a.value)==null||r.addEventListener("canplay",()=>{g.value++}),(_=i.value)==null||_.addEventListener("canplay",()=>{g.value++})}),(n,e)=>(w(),L("div",H,[$(C,{name:"fade"},{default:E(()=>[g.value<2?(w(),M(S,{key:0})):B("",!0)]),_:1}),v("div",{class:"video-container",id:"video1",ref_key:"video1Container",ref:f},[v("span",{class:"video-tag",id:"castle",style:b({opacity:d.value==="video1"||o.value?1:0,left:d.value==="video1"||o.value?0:"-120px",bottom:o.value?"60px":"120px"})},"蝴蝶城工程介紹",4),v("video",{ref_key:"video1",ref:a,src:h(j),onMouseenter:e[0]||(e[0]=t=>!o.value&&m("video1")),onMouseleave:e[1]||(e[1]=t=>!o.value&&u("video1")),onTouchstart:e[2]||(e[2]=t=>o.value&&m("video1")),onTouchend:e[3]||(e[3]=t=>o.value&&u("video1")),loop:p.value>2,muted:"",playsinline:""},null,40,I)],512),v("div",{class:"video-container",id:"video2",ref_key:"video2Container",ref:y},[v("span",{class:"video-tag",id:"butterfly",style:b({opacity:d.value==="video2"||o.value?1:0,right:d.value==="video2"||o.value?0:"-120px",bottom:o.value?"60px":"120px"})},"昆蟲生態動畫解說",4),v("video",{ref_key:"video2",ref:i,src:h(O),onMouseenter:e[4]||(e[4]=t=>!o.value&&m("video2")),onMouseleave:e[5]||(e[5]=t=>!o.value&&u("video2")),onTouchstart:e[6]||(e[6]=t=>o.value&&m("video2")),onTouchend:e[7]||(e[7]=t=>o.value&&u("video2")),loop:p.value>2,muted:"",playsinline:""},null,40,K)],512)]))}}),D=x(q,[["__scopeId","data-v-91642e7a"]]);export{D as default};
